import{_ as d,R as p,r as u,o as _,c as m,a as e,b as o,w as c,d as i,j as k,F as f}from"./index-d9177659.js";const{VITE_APP_URL:$}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"jenny7532",BASE_URL:"/vue-week6/",MODE:"production",DEV:!1,PROD:!0},g={data(){return{checkSuccess:!1}},components:{RouterView:p},methods:{checkLogin(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(s){this.$http.defaults.headers.common.Authorization=s;const t=`${$}v2/api/user/check`;this.$http.post(t).then(r=>{this.checkSuccess=!0}).catch(r=>{alert(r.response.data.message),this.$router.push("/login")})}else alert("您尚未登入!"),this.$router.push("/login")},logout(){document.cookie=`hexToken=; expires=${new Date};`,this.$router.push("/login")}},mounted(){this.checkLogin()}},w=i("hr",null,null,-1);function x(s,t,r,V,P,a){const n=u("router-link"),h=u("router-view");return _(),m(f,null,[e(" 這是「管理者」使用的後台頁面 "),o(n,{to:"/admin/products"},{default:c(()=>[e("後台產品列表")]),_:1}),e(" | "),o(n,{to:"/admin/orders"},{default:c(()=>[e("後台訂單列表")]),_:1}),e(" | "),o(n,{to:"/"},{default:c(()=>[e("回前台")]),_:1}),e(" | "),i("a",{href:"#",onClick:t[0]||(t[0]=k((...l)=>a.logout&&a.logout(...l),["prevent"]))},"登出"),w,o(h)],64)}const E=d(g,[["render",x]]);export{E as default};
